<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trip Budget Estimator</title>
  <style>
    :root {
      --bg: #f6f8fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #2563eb;
      --accent-2: #1d4ed8;
      --border: #dbe3ef;
      --success-bg: #ecfeff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(circle at 20% 10%, #eef4ff 0%, var(--bg) 50%);
      min-height: 100vh;
      padding: 2rem 1rem;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      display: grid;
      gap: 1rem;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 1.25rem;
      box-shadow: 0 6px 24px rgba(37, 99, 235, 0.08);
    }

    h1 {
      margin: 0 0 0.5rem;
      font-size: 1.8rem;
    }

    .subtitle {
      margin: 0;
      color: var(--muted);
      line-height: 1.5;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 0.9rem;
      align-items: end;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    select,
    input {
      width: 100%;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 0.7rem 0.75rem;
      font-size: 0.98rem;
      color: var(--text);
      background: #fff;
    }

    .hint {
      color: var(--muted);
      margin: 0.35rem 0 0;
      font-size: 0.85rem;
    }

    .result {
      background: var(--success-bg);
      border: 1px solid #c9f2ff;
      border-radius: 12px;
      padding: 1rem;
    }

    .big {
      font-size: clamp(1.4rem, 3vw, 2rem);
      margin: 0.25rem 0;
      font-weight: 800;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.75rem;
      font-size: 0.95rem;
    }

    th,
    td {
      border-bottom: 1px solid var(--border);
      padding: 0.5rem 0.35rem;
      text-align: left;
    }

    th {
      color: var(--muted);
      font-weight: 700;
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }
  </style>
</head>
<body>
  <main class="container">
    <section class="card">
      <h1>Trip Budget Estimator</h1>
      <p class="subtitle">
        Quick, rough estimate using your model: <strong>days × trip type multiplier × budget base × people</strong>.
      </p>
    </section>

    <section class="card">
      <div class="grid">
        <div>
          <label for="duration">Trip length</label>
          <select id="duration" aria-label="Trip length">
            <option value="3">Weekend (3 days)</option>
            <option value="6">Week (5–7 days, uses 6)</option>
            <option value="12">Extended (10+ days, uses 12)</option>
          </select>
          <p class="hint">The calculator uses a representative day count for each category.</p>
        </div>

        <div>
          <label for="tripType">Trip type</label>
          <select id="tripType" aria-label="Trip type"></select>
          <p class="hint">Higher multipliers reflect pricier activities/lodging needs.</p>
        </div>

        <div>
          <label for="budgetLevel">Budget level</label>
          <select id="budgetLevel" aria-label="Budget level"></select>
          <p class="hint">Base budget is per person, per day before trip multiplier.</p>
        </div>

        <div>
          <label for="people">Number of people</label>
          <input id="people" type="number" min="1" step="1" value="2" />
        </div>
      </div>

      <div class="grid" style="margin-top: 0.9rem;">
        <div>
          <label for="customDays">Optional custom days</label>
          <input id="customDays" type="number" min="1" step="1" placeholder="Leave blank to use category days" />
          <p class="hint">Estimate updates automatically as you change values.</p>
        </div>
      </div>
    </section>

    <section class="card result" id="result" aria-live="polite">
      <p class="subtitle">Estimated total budget</p>
      <p class="big" id="estimate">$0</p>
      <p id="breakdown" class="subtitle">Adjust any option to update the estimate.</p>
    </section>

    <section class="card">
      <h2 style="margin-top: 0; font-size: 1.2rem;">Model Assumptions</h2>
      <table>
        <thead>
          <tr>
            <th>Budget level</th>
            <th>Base $/person/day</th>
            <th>Trip type</th>
            <th>Multiplier</th>
          </tr>
        </thead>
        <tbody id="assumptionTable"></tbody>
      </table>
    </section>
  </main>

  <script>
    const budgetBase = {
      Strict: 90,
      Medium: 160,
      Big: 260,
      Lavish: 420
    };

    const tripMultipliers = {
      Ski: 1.55,
      Beach: 1.18,
      Mountain: 1.28,
      Camping: 0.82,
      'Road Trip': 1.03,
      Lake: 1.12,
      City: 1.35,
      Cruise: 1.72
    };

    const durationInput = document.getElementById('duration');
    const tripTypeInput = document.getElementById('tripType');
    const budgetLevelInput = document.getElementById('budgetLevel');
    const peopleInput = document.getElementById('people');
    const customDaysInput = document.getElementById('customDays');
    const estimateEl = document.getElementById('estimate');
    const breakdownEl = document.getElementById('breakdown');
    const assumptionTable = document.getElementById('assumptionTable');

    function fillSelect(selectElement, map) {
      Object.entries(map).forEach(([label, value]) => {
        const option = document.createElement('option');
        option.value = String(value);
        option.textContent = label;
        option.dataset.label = label;
        selectElement.append(option);
      });
    }

    function fillAssumptions() {
      assumptionTable.innerHTML = '';
      const budgetKeys = Object.keys(budgetBase);
      const tripKeys = Object.keys(tripMultipliers);
      const maxRows = Math.max(budgetKeys.length, tripKeys.length);

      for (let i = 0; i < maxRows; i += 1) {
        const row = document.createElement('tr');
        const budgetLabel = budgetKeys[i] ?? '';
        const budgetVal = budgetLabel ? `$${budgetBase[budgetLabel]}` : '';
        const tripLabel = tripKeys[i] ?? '';
        const tripVal = tripLabel ? tripMultipliers[tripLabel].toFixed(2) : '';

        row.innerHTML = `
          <td>${budgetLabel}</td>
          <td>${budgetVal}</td>
          <td>${tripLabel}</td>
          <td>${tripVal}</td>
        `;

        assumptionTable.append(row);
      }
    }

    function calculate() {
      const durationDays = Number(durationInput.value);
      const customDays = Number(customDaysInput.value);
      const days = customDays > 0 ? customDays : durationDays;

      const people = Number(peopleInput.value);
      if (!Number.isFinite(people) || people < 1) {
        breakdownEl.textContent = 'Please enter at least 1 person.';
        estimateEl.textContent = '$0';
        return;
      }

      const budgetLabel = budgetLevelInput.selectedOptions[0].dataset.label;
      const tripLabel = tripTypeInput.selectedOptions[0].dataset.label;
      const budget = Number(budgetLevelInput.value);
      const tripMultiplier = Number(tripTypeInput.value);

      const estimate = days * tripMultiplier * budget * people;
      const roundedEstimate = Math.round(estimate / 10) * 10;

      estimateEl.textContent = roundedEstimate.toLocaleString('en-US', {
        style: 'currency',
        currency: 'USD',
        maximumFractionDigits: 0
      });

      breakdownEl.textContent = `${days} day(s) × ${tripLabel} (${tripMultiplier.toFixed(2)}) × ${budgetLabel} ($${budget}/person/day) × ${people} people`;
    }

    fillSelect(tripTypeInput, tripMultipliers);
    fillSelect(budgetLevelInput, budgetBase);
    fillAssumptions();

    [durationInput, tripTypeInput, budgetLevelInput, peopleInput, customDaysInput].forEach((input) => {
      input.addEventListener('input', calculate);
      input.addEventListener('change', calculate);
    });
    calculate();
  </script>
</body>
</html>
